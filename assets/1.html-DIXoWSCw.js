import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as e,c,a as n,b as s,d as p,f as l}from"./app-jd3yk316.js";const u={},i=n("h1",{id:"初次接触cesium",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#初次接触cesium"},[n("span",null,"初次接触CESIUM")])],-1),r={href:"http://cesiumcn.org/getstart.html",target:"_blank",rel:"noopener noreferrer"},k=n("p",null,"DEMO：",-1),m=n("ul",null,[n("li",null,"在线版: https://www.zgeo.work/cesiumTx/examples/editor.html"),n("li",null,"本地部署: “./cesiumTx/index.html”")],-1),d={href:"https://gitee.com/m-yuan-zz/my_notes/tree/master/%E5%89%8D%E7%AB%AF/Cesium_%E4%B8%89%E7%BB%B4%E5%9C%B0%E5%9B%BE",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/CesiumGS/cesium",target:"_blank",rel:"noopener noreferrer"},y={href:"https://www.bilibili.com/video/BV1nd4y19775/",target:"_blank",rel:"noopener noreferrer"},b=l(`<blockquote><p>注：Cesium版本1.99，天地图插件修改版(cesiumTdt.js)，存放路径“./assets/...”</p></blockquote><h2 id="尝试创建cesium" tabindex="-1"><a class="header-anchor" href="#尝试创建cesium"><span>尝试创建cesium</span></a></h2><blockquote><p>实现引入天地图底图服务，地名标注服务；加载3D Tiles 数据集添加模型；向地图上添加模型，并为模型绑定上鼠标移入移除、点击事件；</p></blockquote><ol><li><p>引入本地js，css</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/Build/Cesium/Widgets/widgets.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/Build/Cesium/Cesium.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/js/cesiumTdt.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>创建容器</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cesiumContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>JS代码</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!-- json数据 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ASSJC<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application/json<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;ASSJC&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;奥山世纪城&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        
          <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;AS-5&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;奥山世纪城A5栋&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">1837473.1065903474</span><span class="token punctuation">,</span><span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">5193141.811336121</span><span class="token punctuation">,</span><span class="token string-property property">&quot;z&quot;</span><span class="token operator">:</span><span class="token number">3204124.193013602</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;length&quot;</span><span class="token operator">:</span><span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;width&quot;</span><span class="token operator">:</span><span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;height&quot;</span><span class="token operator">:</span><span class="token string">&quot;85&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;baseHeight&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;angle&quot;</span><span class="token operator">:</span><span class="token string">&quot;-36&quot;</span>
          <span class="token punctuation">}</span>
  
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 天地图key</span>
    <span class="token keyword">var</span> token <span class="token operator">=</span> <span class="token string">&#39;35eea324c86169aa7bbf7426cb75f36d&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">// 服务域名</span>
    <span class="token keyword">var</span> tdtUrl <span class="token operator">=</span> <span class="token string">&#39;https://t{s}.tianditu.gov.cn/&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">// 服务负载子域</span>
    <span class="token keyword">var</span> subdomains <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;6&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;7&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 倾斜模型url</span>
    <span class="token keyword">var</span> tilesetURL <span class="token operator">=</span> <span class="token string">&#39;https://jzbzl.hhtx.vip/map/gis/tileset.json&#39;</span><span class="token punctuation">;</span>
    Cesium<span class="token punctuation">.</span>Ion<span class="token punctuation">.</span>defaultAccessToken <span class="token operator">=</span> <span class="token string">&#39;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzYzMzMmU2Ny0xZmMzLTRkYzEtOTkxMC0yZTQ3NTAxYThkN2MiLCJpZCI6MTk5Njk5LCJpYXQiOjE3MDk2MjE1NDh9.xyiT90uD_e82l0pew8djhToM6mbbnKfqtaBXTuIJf5M&#39;</span> <span class="token comment">// cesium官网注册后获得</span>
    <span class="token comment">// cesium 初始化</span>
    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&#39;cesiumContainer&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">animation</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否创建动画小器件，左下角仪表</span>
      <span class="token literal-property property">baseLayerPicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示图层选择器</span>
      <span class="token literal-property property">fullscreenButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示全屏按钮</span>
      <span class="token literal-property property">geocoder</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示geocoder小器件，右上角查询按钮</span>
      <span class="token literal-property property">homeButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示Home按钮</span>
      <span class="token literal-property property">infoBox</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示信息框</span>
      <span class="token literal-property property">sceneModePicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示3D/2D选择器</span>
      <span class="token literal-property property">selectionIndicator</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示选取指示器组件</span>
      <span class="token literal-property property">timeline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示时间轴</span>
      <span class="token literal-property property">navigationHelpButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示右上角的帮助按钮</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 抗锯齿</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>fxaa <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>postProcessStages<span class="token punctuation">.</span>fxaa<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// 水雾特效</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>showGroundAtmosphere <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置最大俯仰角，[-90,0]区间内，默认为-30，单位弧度</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>constrainedPitch <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>autoResetHeadingPitch <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>inertiaZoom <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>minimumZoomDistance <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>maximumZoomDistance <span class="token operator">=</span> <span class="token number">20000000</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>zoomEventTypes <span class="token operator">=</span> <span class="token punctuation">[</span>
      Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">RIGHT_DRAG</span><span class="token punctuation">,</span>
      Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">WHEEL</span><span class="token punctuation">,</span>
      Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">PINCH</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>tiltEventTypes <span class="token operator">=</span> <span class="token punctuation">[</span>
      Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">MIDDLE_DRAG</span><span class="token punctuation">,</span>
      Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">PINCH</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">eventType</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">LEFT_DRAG</span><span class="token punctuation">,</span>
        <span class="token literal-property property">modifier</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>KeyboardEventModifier<span class="token punctuation">.</span><span class="token constant">CTRL</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">eventType</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">RIGHT_DRAG</span><span class="token punctuation">,</span>
        <span class="token literal-property property">modifier</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>KeyboardEventModifier<span class="token punctuation">.</span><span class="token constant">CTRL</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 取消默认的双击事件</span>
    viewer<span class="token punctuation">.</span>cesiumWidget<span class="token punctuation">.</span>screenSpaceEventHandler<span class="token punctuation">.</span><span class="token function">removeInputAction</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_DOUBLE_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 叠加影像服务</span>
    <span class="token keyword">var</span> imgMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>UrlTemplateImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> tdtUrl <span class="token operator">+</span> <span class="token string">&#39;DataServer?T=img_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk=&#39;</span> <span class="token operator">+</span> token<span class="token punctuation">,</span>
      <span class="token literal-property property">subdomains</span><span class="token operator">:</span> subdomains<span class="token punctuation">,</span>
      <span class="token literal-property property">tilingScheme</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>WebMercatorTilingScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maximumLevel</span><span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">addImageryProvider</span><span class="token punctuation">(</span>imgMap<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 天地图偏绿</span>

    <span class="token comment">// 叠加国界服务</span>
    <span class="token keyword">var</span> iboMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>UrlTemplateImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> tdtUrl <span class="token operator">+</span> <span class="token string">&#39;DataServer?T=ibo_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk=&#39;</span> <span class="token operator">+</span> token<span class="token punctuation">,</span>
      <span class="token literal-property property">subdomains</span><span class="token operator">:</span> subdomains<span class="token punctuation">,</span>
      <span class="token literal-property property">tilingScheme</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>WebMercatorTilingScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maximumLevel</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">addImageryProvider</span><span class="token punctuation">(</span>iboMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// viewer.scene.globe.enableLighting = true; // 真实太阳照射</span>

    <span class="token comment">// 叠加地形服务</span>
    <span class="token comment">// var terrainUrls = new Array();</span>

    <span class="token comment">// for (var i = 0; i &lt; subdomains.length; i++){</span>
    <span class="token comment">//     var url = tdtUrl.replace(&#39;{s}&#39;, subdomains[i]) + &#39;mapservice/swdx?T=elv_c&amp;tk=&#39; + token;</span>
    <span class="token comment">//     terrainUrls.push(url);</span>
    <span class="token comment">// }</span>

    <span class="token comment">// var provider = new Cesium.GeoTerrainProvider({</span>
    <span class="token comment">//     urls: terrainUrls</span>
    <span class="token comment">// });</span>

    <span class="token comment">// viewer.terrainProvider = provider;</span>

    <span class="token comment">// 地图定位到中心点去</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 定位文化中心</span>
      <span class="token literal-property property">destination</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">109.48542215068471</span><span class="token punctuation">,</span> <span class="token number">30.350733110620066</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">heading</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">348.4202942851978</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pitch</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">89.74026687972041</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">roll</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token comment">//动画时间</span>
      <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;定位完成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 定位完成之后的回调函数</span>
        <span class="token function">overEstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 叠加三维地名服务</span>
    <span class="token keyword">var</span> wtfs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeoWTFS</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      viewer<span class="token punctuation">,</span>
      <span class="token comment">//三维地名服务，使用wtfs服务</span>
      <span class="token literal-property property">subdomains</span><span class="token operator">:</span> subdomains<span class="token punctuation">,</span>
      <span class="token literal-property property">metadata</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">boundBox</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">minX</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">180</span><span class="token punctuation">,</span>
          <span class="token literal-property property">minY</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span>
          <span class="token literal-property property">maxX</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
          <span class="token literal-property property">maxY</span><span class="token operator">:</span> <span class="token number">90</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">minLevel</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxLevel</span><span class="token operator">:</span> <span class="token number">20</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">depthTestOptimization</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dTOElevation</span><span class="token operator">:</span> <span class="token number">15000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dTOPitch</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">aotuCollide</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//是否开启避让</span>
      <span class="token literal-property property">collisionPadding</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//开启避让时，标注碰撞增加内边距，上、右、下、左</span>
      <span class="token literal-property property">serverFirstStyle</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//服务端样式优先</span>
      <span class="token literal-property property">labelGraphics</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token string">&quot;28px sans-serif&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fillColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
        <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outlineWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">style</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>LabelStyle<span class="token punctuation">.</span><span class="token constant">FILL_AND_OUTLINE</span><span class="token punctuation">,</span>
        <span class="token literal-property property">showBackground</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">,</span>
        <span class="token literal-property property">backgroundPadding</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">horizontalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>HorizontalOrigin<span class="token punctuation">.</span><span class="token constant">MIDDLE</span><span class="token punctuation">,</span>
        <span class="token literal-property property">verticalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>VerticalOrigin<span class="token punctuation">.</span><span class="token constant">TOP</span><span class="token punctuation">,</span>
        <span class="token literal-property property">eyeOffset</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pixelOffset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">disableDepthTestDistance</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">billboardGraphics</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">horizontalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>HorizontalOrigin<span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">,</span>
        <span class="token literal-property property">verticalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>VerticalOrigin<span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">,</span>
        <span class="token literal-property property">eyeOffset</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pixelOffset</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian2<span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">,</span>
        <span class="token literal-property property">alignedAxis</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rotation</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
        <span class="token literal-property property">disableDepthTestDistance</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//三维地名服务，使用wtfs服务</span>
    wtfs<span class="token punctuation">.</span><span class="token function-variable function">getTileUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> tdtUrl <span class="token operator">+</span> <span class="token string">&#39;mapservice/GetTiles?lxys={z},{x},{y}&amp;tk=&#39;</span> <span class="token operator">+</span> token<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 三维图标服务</span>
    wtfs<span class="token punctuation">.</span><span class="token function-variable function">getIcoUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> tdtUrl <span class="token operator">+</span> <span class="token string">&#39;mapservice/GetIcon?id={id}&amp;tk=&#39;</span> <span class="token operator">+</span> token<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    wtfs<span class="token punctuation">.</span><span class="token function">initTDT</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;boundBox&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;minX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;minY&quot;</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxX&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;maxY&quot;</span><span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// 添加小区倾斜模型</span>
    <span class="token keyword">function</span> <span class="token function">overEstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> estateList <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> tilesetURL<span class="token punctuation">,</span>
          <span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token number">109.48665</span><span class="token punctuation">,</span>
          <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token number">30.35236</span><span class="token punctuation">,</span>
          <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// 添加tileset模型</span>
      estateList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">estate</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> classificationTileset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileset</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> estate<span class="token punctuation">.</span>url
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> city <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>classificationTileset<span class="token punctuation">)</span><span class="token punctuation">;</span>
        city<span class="token punctuation">.</span>readyPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">city</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">adjustPosi</span><span class="token punctuation">(</span>city<span class="token punctuation">,</span> estate<span class="token punctuation">.</span>lng<span class="token punctuation">,</span> estate<span class="token punctuation">.</span>lat<span class="token punctuation">,</span> estate<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//地图建筑物增加壳子,便于点击</span>
      <span class="token function">overShell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 位置调整</span>
    <span class="token keyword">function</span> <span class="token function">adjustPosi</span><span class="token punctuation">(</span><span class="token parameter">tileDom<span class="token punctuation">,</span> longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//3dtile模型的边界球体</span>
      <span class="token keyword">var</span> boundingSphere <span class="token operator">=</span> tileDom<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">;</span>
      <span class="token comment">//迪卡尔空间直角坐标=&gt;地理坐标（弧度制）</span>
      <span class="token keyword">var</span> cartographic_original <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>boundingSphere<span class="token punctuation">.</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//设置新的经度、纬度、高度</span>
      <span class="token keyword">var</span> cartographic_offset<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>longitude <span class="token operator">&amp;&amp;</span> latitude<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cartographic_offset <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        cartographic_offset <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>cartographic_original<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> cartographic_original<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//地理坐标（弧度制）=&gt;迪卡尔空间直角坐标</span>
      <span class="token keyword">var</span> Cartesian3_original <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromRadians</span><span class="token punctuation">(</span>cartographic_original<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> cartographic_original<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> cartographic_original<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> Cartesian3_offset <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromRadians</span><span class="token punctuation">(</span>cartographic_offset<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span> cartographic_offset<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> cartographic_offset<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//获得地面和offset的转换</span>
      <span class="token keyword">var</span> translation <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span>Cartesian3_offset<span class="token punctuation">,</span> Cartesian3_original<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//修改模型矩阵</span>
      tileDom<span class="token punctuation">.</span>modelMatrix <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">fromTranslation</span><span class="token punctuation">(</span>translation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 给地图建筑物增加外壳,便于选中</span>
    <span class="token keyword">function</span> <span class="token function">overShell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> jsonDataElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;ASSJC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> <span class="token punctuation">{</span> <span class="token constant">ASSJC</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonDataElement<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">ASSJC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">ASSJC</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;已经加载ASSJC数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">ASSJC</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">build</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">overBuildShell</span><span class="token punctuation">(</span>build<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 给建筑物增加壳子,便于选中</span>
    <span class="token comment">// 创建一个数组用于存储所有模型的引用</span>
    <span class="token keyword">var</span> models <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">overBuildShell</span><span class="token punctuation">(</span><span class="token parameter">posi</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;壳子定位参数&quot;</span><span class="token punctuation">,</span> posi<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> length <span class="token operator">=</span> posi<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span> width <span class="token operator">=</span> posi<span class="token punctuation">.</span>width <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span> height <span class="token operator">=</span> posi<span class="token punctuation">.</span>height <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//楼的长宽高和基地高</span>
      <span class="token keyword">let</span> center <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">//楼中心点位置</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> posi<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> posi<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> posi<span class="token punctuation">.</span>z
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
        modelMatrix <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> hprRotation <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Matrix3<span class="token punctuation">.</span><span class="token function">fromHeadingPitchRoll</span><span class="token punctuation">(</span>
        <span class="token comment">// 旋转坐标 航向是围绕负 z 轴的旋转。俯仰是围绕负 y 轴的旋转。滚动是围绕正 x 轴的旋转</span>
        <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>HeadingPitchRoll</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span>posi<span class="token punctuation">.</span>angle<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> hpr <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">fromRotationTranslation</span><span class="token punctuation">(</span>
        hprRotation<span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> posi<span class="token punctuation">.</span>baseHeight<span class="token punctuation">)</span> <span class="token comment">//楼层高度上的偏移</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span>modelMatrix<span class="token punctuation">,</span> hpr<span class="token punctuation">,</span> modelMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> classificationPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ClassificationPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">geometry</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>BoxGeometry<span class="token punctuation">.</span><span class="token function">fromDimensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">vertexFormat</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>PerInstanceColorAppearance<span class="token punctuation">.</span><span class="token constant">VERTEX_FORMAT</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> modelMatrix<span class="token punctuation">,</span>
          <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>
              <span class="token comment">// fromBytes(255, 0, 0, 255) fromCssColorString (#ff0000)</span>
              Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&quot;rgba(255, 255, 255, 0.5)&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ShowGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//设置初始化后是否显示</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> posi<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">classificationType</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ClassificationType<span class="token punctuation">.</span><span class="token constant">CESIUM_3D_TILE</span><span class="token punctuation">,</span><span class="token comment">//只绘制在3dtiles上</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>classificationPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 将模型的引用添加到数组中</span>
      models<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> posi<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token literal-property property">primitive</span><span class="token operator">:</span> classificationPrimitive
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;添加成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> movementObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> clickObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">movement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> pickedPrimitive <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>movement<span class="token punctuation">.</span>endPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedPrimitive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">var</span> pickedEntity <span class="token operator">=</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedPrimitive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedPrimitive<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> pickedPrimitive<span class="token punctuation">.</span>id <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>movementObj<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> movementObj<span class="token punctuation">.</span>id <span class="token operator">===</span> pickedEntity<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token comment">// 清除之前高亮的实体</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>movementObj<span class="token punctuation">.</span>previousPickedEntity<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>movementObj<span class="token punctuation">.</span>previousPickedEntity<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        movementObj<span class="token punctuation">.</span>previousPickedEntity<span class="token punctuation">.</span>color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">toValue</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        movementObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 高亮当前选中的实体</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedEntity<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> attributes <span class="token operator">=</span> pickedPrimitive<span class="token punctuation">.</span>primitive<span class="token punctuation">.</span><span class="token function">getGeometryInstanceAttributes</span><span class="token punctuation">(</span>pickedEntity<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将选中的实体颜色设置为高亮颜色</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>attributes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          attributes<span class="token punctuation">.</span>color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">toValue</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">ORANGERED</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          movementObj<span class="token punctuation">.</span>previousPickedEntity <span class="token operator">=</span> attributes<span class="token punctuation">;</span>
          movementObj<span class="token punctuation">.</span>id <span class="token operator">=</span> pickedEntity<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">MOUSE_MOVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">click</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> pickedPrimitive <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>click<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> pickedEntity <span class="token operator">=</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedPrimitive<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedPrimitive<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> pickedPrimitive<span class="token punctuation">.</span>id <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

      <span class="token comment">// 清除之前高亮的实体</span>
      <span class="token comment">// if (Cesium.defined(clickObj.previousPickedEntity) &amp;&amp; Cesium.defined(clickObj.previousPickedEntity.color)) {</span>
      <span class="token comment">//   clickObj.previousPickedEntity.color = Cesium.ColorGeometryInstanceAttribute.toValue(Cesium.Color.WHITE.withAlpha(0.5));</span>
      <span class="token comment">//   clickObj = {};</span>
      <span class="token comment">// }</span>

      <span class="token comment">// 高亮当前选中的实体</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedEntity<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> attributes <span class="token operator">=</span> pickedPrimitive<span class="token punctuation">.</span>primitive<span class="token punctuation">.</span><span class="token function">getGeometryInstanceAttributes</span><span class="token punctuation">(</span>pickedEntity<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将选中的实体颜色设置为高亮颜色</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>attributes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          attributes<span class="token punctuation">.</span>color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">toValue</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          clickObj<span class="token punctuation">.</span>previousPickedEntity <span class="token operator">=</span> attributes<span class="token punctuation">;</span>
          clickObj<span class="token punctuation">.</span>id <span class="token operator">=</span> pickedEntity<span class="token punctuation">;</span>
          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;点击了_&quot;</span> <span class="token operator">+</span> pickedEntity<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,4);function g(q,f){const a=o("ExternalLinkIcon");return e(),c("div",null,[i,n("p",null,[s("中文教程："),n("a",r,[s("cesium中文网"),p(a)])]),k,m,n("p",null,[s("gitee: "),n("a",d,[s("笔记相关源码"),p(a)])]),n("p",null,[s("github："),n("a",v,[s("CesiumGS"),p(a)])]),n("p",null,[s("哔哩哔哩:"),n("a",y,[s("BV1nd4y19775"),p(a)])]),b])}const w=t(u,[["render",g],["__file","1.html.vue"]]),x=JSON.parse('{"path":"/front/Cesium/1.html","title":"初次接触CESIUM","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-02-15T00:00:00.000Z","category":["Cesium"],"tag":["3D地图","倾斜模型"],"editLink":false,"description":"初次接触CESIUM 中文教程：cesium中文网 DEMO： 在线版: https://www.zgeo.work/cesiumTx/examples/editor.html 本地部署: “./cesiumTx/index.html” gitee: 笔记相关源码 github：CesiumGS 哔哩哔哩:BV1nd4y19775 注：Cesium版本...","head":[["meta",{"property":"og:url","content":"https://mender1.github.io/md-blog/md-blog/front/Cesium/1.html"}],["meta",{"property":"og:site_name","content":"闷豆的笔记"}],["meta",{"property":"og:title","content":"初次接触CESIUM"}],["meta",{"property":"og:description","content":"初次接触CESIUM 中文教程：cesium中文网 DEMO： 在线版: https://www.zgeo.work/cesiumTx/examples/editor.html 本地部署: “./cesiumTx/index.html” gitee: 笔记相关源码 github：CesiumGS 哔哩哔哩:BV1nd4y19775 注：Cesium版本..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-06T08:01:56.000Z"}],["meta",{"property":"article:author","content":"Mr.闷豆"}],["meta",{"property":"article:tag","content":"3D地图"}],["meta",{"property":"article:tag","content":"倾斜模型"}],["meta",{"property":"article:published_time","content":"2024-02-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-06T08:01:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"初次接触CESIUM\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-02-15T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-06T08:01:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.闷豆\\",\\"url\\":\\"https://mender1.github.io/md-blog/\\"}]}"]]},"headers":[{"level":2,"title":"尝试创建cesium","slug":"尝试创建cesium","link":"#尝试创建cesium","children":[]}],"git":{"createdTime":1714468187000,"updatedTime":1714982516000,"contributors":[{"name":"Yuanzz","email":"1149772382@qq.com","commits":1},{"name":"yuanzz","email":"1149772382@qq.com","commits":1}]},"readingTime":{"minutes":6.14,"words":1843},"filePathRelative":"front/Cesium/1.md","localizedDate":"2024年2月15日","excerpt":"\\n<p>中文教程：<a href=\\"http://cesiumcn.org/getstart.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">cesium中文网</a></p>\\n<p>DEMO：</p>\\n<ul>\\n<li>在线版: https://www.zgeo.work/cesiumTx/examples/editor.html</li>\\n<li>本地部署: “./cesiumTx/index.html”</li>\\n</ul>\\n<p>gitee: <a href=\\"https://gitee.com/m-yuan-zz/my_notes/tree/master/%E5%89%8D%E7%AB%AF/Cesium_%E4%B8%89%E7%BB%B4%E5%9C%B0%E5%9B%BE\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">笔记相关源码</a></p>","autoDesc":true}');export{w as comp,x as data};
